<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Accept-Ranges" content="bytes">
    <title>Village Machaan - Luxury Jungle Resort</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@400;500;600;700&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=TAN+PEARL&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Le+Jour+Serif+Personal+Use+Only&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Le+Jour+Script+Personal+Use&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Black+Mango&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">Machaan</div>
            <nav class="nav">
                <a href="#" class="nav-link about-us">ABOUT US</a>
                <a href="#" class="nav-link accommodation">ACCOMMODATION</a>
                <a href="#" class="nav-link experiences">EXPERIENCES</a>
                <a href="#" class="nav-link contact">CONTACT</a>
            </nav>
            <button class="book-now-btn">BOOK NOW</button>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <!-- Background Video -->
            <video class="bg-video" autoplay muted loop playsinline preload="none" poster="public/bg image.png">
                <!-- Try the main video file first -->
                <source src="public/background-video.mp4" type="video/mp4">
                <!-- Fallback to sample video if main video fails -->
                <source src="public/sample-video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            
            <!-- Video Loading Indicator -->
            <div class="video-loading">Loading video...</div>
            
            <!-- Fallback Background Image -->
            <div class="bg-image"></div>
            
            <!-- Background Images -->
            <div class="image-3"></div>
            
            <!-- Background Machaan Text -->
            <div class="machaan-bg">
                <img src="public/machaan-logo.png" alt="Machaan" class="machaan-logo-image">
            </div>
            
            <!-- Village Text -->
            <div class="village-text">Village</div>
            
            <!-- Description Text -->
            <div class="description">
                Luxury Jungle Resort in<br>
                Pench National Park, Madhya Pradesh, India
            </div>
        </section>

        <!-- About Us Section -->
        <section class="about-us">
            <!-- Background Sky -->
            <div class="bg-sky"></div>
            
            <!-- Background Gate -->
            <div class="bg-gate"></div>
            
            <!-- White Gradient Top -->
            <div class="white-gradient-top"></div>
            
            <!-- Tree Right -->
            <div class="tree-right"></div>
            
            <!-- Tree Left -->
            <div class="tree-left"></div>
            
            <!-- Main Headline -->
            <div class="breathes">breathes</div>
            
            <!-- Sub Headline -->
            <div class="where-jungle">Where the jungle</div>
            
            <!-- White Gradient Bottom -->
            <div class="white-gradient-bottom"></div>
            
            <!-- Top Palm -->
            <div class="top-palm"></div>
            
            <!-- Top Black Gradient -->
            <div class="top-black-gradient"></div>
            
            <!-- Left Leaves -->
            <div class="left-leaves"></div>
            
            <!-- Leaves Right -->
            <div class="leaves-right"></div>
            
            <!-- Description Text -->
            <div class="about-description">
                Sitting gently within the forest, Village Machan isn't here to tame the wild, but to live alongside it. With villas that offer comfort without excess and privacy without noise, leaving you with space to pause, unwind, and simply be.
            </div>
            
            <!-- White Gradient Transition -->
            <div class="white-gradient-transition"></div>
        </section>

        <!-- Accommodation Hornbill Section -->
        <section class="accommodation-hornbill">
            <!-- Group 3 Container -->
            <div class="group-3">
                <!-- WhatsApp Image 2025-06-27 at 3.34.33 PM 1 -->
                <div class="whatsapp-image-1">Wildlife</div>
                
                <!-- WhatsApp Image 2025-06-27 at 3.34.26 PM (2) 1 -->
                <div class="whatsapp-image-2">Nature</div>
                
                <!-- WhatsApp Image 2025-06-27 at 3.34.26 PM 1 -->
                <div class="whatsapp-image-3">Adventure</div>
                
                <!-- WhatsApp Image 2025-06-27 at 3.34.30 PM 1 -->
                <div class="whatsapp-image-4">Safari</div>
                
                <!-- WhatsApp Image 2025-06-27 at 3.34.22 PM 1 -->
                <div class="whatsapp-image-5">Jungle</div>
                
                <!-- WhatsApp Image 2025-06-27 at 3.34.30 PM (1) 1 -->
                <div class="whatsapp-image-6">Resort</div>
            </div>
            
            <!-- Frame 4 - Text Content -->
            <div class="frame-4">
                <!-- WE BELIEVE IN -->
                <div class="we-believe-in">WE BELIEVE IN</div>
                
                <!-- Group 2 - Villa Names -->
                <div class="group-2">
                    <div class="fresh-breeze">Fresh breeze</div>
                    <div class="cozy-rooms">Cozy rooms</div>
                    <div class="green-view">Green View</div>
                    <div class="cool-winds">Cool Winds</div>
                </div>
                
                <!-- Visit the land of Jungle Book -->
                <div class="visit-jungle-book">Visit the land of Jungle Book</div>
            </div>
        </section>

        <!-- Accommodation Kingfisher Section -->
        <section class="accommodation-kingfisher">
            <!-- Group 5 Container -->
            <div class="group-5">
                <!-- Rectangle 1 - Left Panel -->
                <div class="rectangle-1">
                    <!-- Frame 7 - Text Content -->
                    <div class="frame-7">
                        <!-- Frame 6 - ACCOMODATION Title -->
                        <div class="frame-6">
                            <div class="accommodation-title">ACCOMODATION</div>
                        </div>
                        
                        <!-- Frame 5 - Hornbill Villa Content -->
                        <div class="frame-5">
                            <div class="hornbill-villa-title">Hornbill Villa</div>
                            <div class="hornbill-villa-description">
                                Styled like a colonial-era bungalow, Hornbill Villa blends old-world charm with modern ease. Interconnected rooms, wraparound verandas, and forest-facing sit-outs make it perfect for families or longer stays.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Image 6 - Small Image -->
                    <div class="image-6"></div>
                </div>
                
                <!-- HORNBILL img - Right Panel -->
                <div class="hornbill-img"></div>
            </div>
        </section>

        <!-- Features/Experiences Section -->
        <section class="features-section">
            <!-- Main Container -->
            <div class="testimonials-mid-page">
                <!-- Header Text -->
                <div class="browse-experiences">BROWSE THROUGH EXPERIENCES & ACTIVITIES AT VILLAGE MACCHAN</div>
                
                <!-- Main Title -->
                <div class="daytime-safari">Daytime Safari</div>
                
                <!-- Feature Items -->
                <div class="feature-item birdwatching">Birdwatching</div>
                <div class="feature-item meditation">Meditation</div>
                <div class="feature-item candlelight-dinner">Candlelight Dinner</div>
                <div class="feature-item night-safari">Night time Safari</div>
                <div class="feature-item pool-day">Pool Day</div>
                <div class="feature-item pottery-walks">Pottery Village Walks</div>
                <div class="feature-item conferences">Conferences</div>
                <div class="feature-item special-events">Special Events</div>
                <div class="feature-item archery">Archery</div>
                <div class="feature-item music-bonfire">Music & Bonfire</div>
                <div class="feature-item game-night">Game Night</div>
                
                <!-- Decorative Images -->
                <div class="decorative-image whatsapp-image-1"></div>
                <div class="decorative-image really-great-site"></div>
                <div class="decorative-image whatsapp-image-3"></div>
                <div class="decorative-image untitled-design-1"></div>
                <div class="decorative-image untitled-design-2"></div>
                <div class="decorative-image untitled-design-3"></div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="testimonials-section">
            <!-- Main Container -->
            <div class="testimonials-mid-page-new">
                <!-- Background Image -->
                <div class="pench-website-24"></div>
                
                <!-- Untitled Design 3 -->
                <div class="untitled-design-3-new"></div>
                
                <!-- Group 8 Container -->
                <div class="group-8">
                    <!-- Pench Website 23 - Right Side -->
                    <div class="pench-website-23-right"></div>
                    
                    <!-- Pench Website 23 - Left Side -->
                    <div class="pench-website-23-left"></div>
                </div>
                
                <!-- CONTACT Text -->
                <div class="contact-text">CONTACT</div>
                
                <!-- Today Text -->
                <div class="today-text">Today</div>
                
                <!-- Contact Information -->
                <div class="contact-info">
                    PHONE: +91 8435909944<br>
                    EMAIL: info@villagemachaan.com<br>
                    LOCATION: Village Awargani, Pench National Park, District Seoni - 480881, Madhya Pradesh, India
                </div>
            </div>
        </section>
    </div>

    <script>
        // Navigation bar behavior - static on landing page, floating on other pages
        document.addEventListener('DOMContentLoaded', function() {
            const header = document.querySelector('.header');
            const heroSection = document.querySelector('.hero');
            const video = document.querySelector('.bg-video');
            const fallbackImage = document.querySelector('.bg-image');
            const loadingIndicator = document.querySelector('.video-loading');
            
            // Check network connection speed
            function checkConnectionSpeed() {
                if ('connection' in navigator) {
                    const connection = navigator.connection;
                    console.log('Connection type:', connection.effectiveType);
                    console.log('Downlink:', connection.downlink, 'Mbps');
                    
                    // If connection is slow (2G or slow 3G), skip video
                    if (connection.effectiveType === 'slow-2g' || 
                        connection.effectiveType === '2g' || 
                        connection.downlink < 1) {
                        console.log('Slow connection detected - using fallback image');
                        if (video) video.style.display = 'none';
                        if (fallbackImage) fallbackImage.style.display = 'block';
                        if (loadingIndicator) loadingIndicator.style.display = 'none';
                        return false;
                    }
                }
                return true;
            }
            
            // Video loading and error handling with timeout
            if (video && checkConnectionSpeed()) {
                let videoLoadTimeout;
                let hasVideoLoaded = false;
                let currentSourceIndex = 0;
                const videoSources = video.querySelectorAll('source');
                
                // Show loading indicator immediately
                if (loadingIndicator) {
                    loadingIndicator.style.display = 'block';
                    loadingIndicator.innerHTML = 'Loading video...';
                }
                
                // Function to try next video source
                function tryNextSource() {
                    if (currentSourceIndex < videoSources.length - 1) {
                        currentSourceIndex++;
                        console.log('Trying next video source:', videoSources[currentSourceIndex].src);
                        if (loadingIndicator) {
                            loadingIndicator.innerHTML = 'Trying alternative video...';
                        }
                        video.load();
                    } else {
                        // All sources failed, show fallback image
                        console.log('All video sources failed - showing fallback image');
                        if (loadingIndicator) {
                            loadingIndicator.style.display = 'none';
                        }
                        if (fallbackImage) {
                            fallbackImage.style.display = 'block';
                        }
                        if (video) {
                            video.style.display = 'none';
                        }
                    }
                }
                
                // Set a timeout for video loading (10 seconds)
                videoLoadTimeout = setTimeout(function() {
                    if (!hasVideoLoaded) {
                        console.log('Video loading timeout - trying next source');
                        tryNextSource();
                    }
                }, 10000);
                
                video.addEventListener('loadstart', function() {
                    console.log('Video loading started');
                    if (loadingIndicator) {
                        loadingIndicator.innerHTML = 'Loading video...';
                    }
                });
                
                video.addEventListener('progress', function() {
                    if (loadingIndicator) {
                        loadingIndicator.innerHTML = 'Loading video... Please wait';
                    }
                });
                
                video.addEventListener('canplay', function() {
                    console.log('Video can play');
                    hasVideoLoaded = true;
                    clearTimeout(videoLoadTimeout);
                    
                    // Hide loading indicator and fallback image when video is ready
                    if (loadingIndicator) {
                        loadingIndicator.style.display = 'none';
                    }
                    if (fallbackImage) {
                        fallbackImage.style.display = 'none';
                        console.log('Fallback image hidden');
                    }
                    if (video) {
                        video.style.display = 'block';
                        video.style.visibility = 'visible';
                        video.style.opacity = '1';
                        console.log('Video made visible');
                    }
                });
                
                video.addEventListener('canplaythrough', function() {
                    console.log('Video can play through');
                    hasVideoLoaded = true;
                    clearTimeout(videoLoadTimeout);
                    
                    if (loadingIndicator) {
                        loadingIndicator.style.display = 'none';
                    }
                    if (fallbackImage) {
                        fallbackImage.style.display = 'none';
                        console.log('Fallback image hidden (canplaythrough)');
                    }
                    if (video) {
                        video.style.display = 'block';
                        video.style.visibility = 'visible';
                        video.style.opacity = '1';
                        console.log('Video made visible (canplaythrough)');
                    }
                });
                
                video.addEventListener('error', function(e) {
                    console.error('Video error:', e);
                    hasVideoLoaded = false;
                    clearTimeout(videoLoadTimeout);
                    
                    // Check if it's a 416 error (Range Not Satisfiable)
                    if (video.error && video.error.code === 4) {
                        console.log('416 Range Not Satisfiable error - trying next source');
                        tryNextSource();
                    } else {
                        // Other error - try next source or show fallback
                        console.log('Video error - trying next source');
                        tryNextSource();
                    }
                });
                
                            // Check if video is already loaded
            if (video.readyState >= 2) {
                console.log('Video already loaded');
                hasVideoLoaded = true;
                clearTimeout(videoLoadTimeout);
                if (loadingIndicator) {
                    loadingIndicator.style.display = 'none';
                }
                if (fallbackImage) {
                    fallbackImage.style.display = 'none';
                    console.log('Fallback image hidden (already loaded)');
                }
                if (video) {
                    video.style.display = 'block';
                    video.style.visibility = 'visible';
                    video.style.opacity = '1';
                    console.log('Video made visible (already loaded)');
                }
            } else {
                // Force video to load
                video.load();
            }
            
            // Debug function to check video visibility
            function debugVideoVisibility() {
                console.log('=== Video Debug Info ===');
                console.log('Video element:', video);
                console.log('Video display:', video.style.display);
                console.log('Video visibility:', video.style.visibility);
                console.log('Video opacity:', video.style.opacity);
                console.log('Video z-index:', window.getComputedStyle(video).zIndex);
                console.log('Video readyState:', video.readyState);
                console.log('Video currentSrc:', video.currentSrc);
                console.log('Video paused:', video.paused);
                console.log('Video ended:', video.ended);
                console.log('Video error:', video.error);
                
                console.log('Fallback image:', fallbackImage);
                console.log('Fallback display:', fallbackImage ? fallbackImage.style.display : 'N/A');
                console.log('Fallback z-index:', fallbackImage ? window.getComputedStyle(fallbackImage).zIndex : 'N/A');
                console.log('========================');
            }
            
            // Call debug function after 3 seconds
            setTimeout(debugVideoVisibility, 3000);
            }
            
            function handleScroll() {
                const heroBottom = heroSection.offsetTop + heroSection.offsetHeight;
                const scrollPosition = window.pageYOffset + window.innerHeight;
                
                // If we've scrolled past the hero section, make nav floating
                if (scrollPosition > heroBottom) {
                    header.classList.add('floating');
                } else {
                    header.classList.remove('floating');
                }
            }
            
            // Listen for scroll events
            window.addEventListener('scroll', handleScroll);
            
            // Initial check
            handleScroll();
        });
    </script>
</body>
</html>